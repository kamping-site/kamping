#!/bin/bash 
for file in $(git diff --cached --name-only | grep -E '.*\.(c|cpp|h|hpp)\b'); do 
	if [[ -f "$file" ]]; then 
		clang-format --dry-run --Werror "$file" || exit 1
	fi
done

exit 0

