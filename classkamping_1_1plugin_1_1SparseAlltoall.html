<!-- HTML header for doxygen 1.10.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KaMPIng: kamping::plugin::SparseAlltoall&lt; Comm, DefaultContainerType &gt; Class Template Reference</title>
<link rel="icon" href="icon.svg" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
    <script type="text/javascript">
        DoxygenAwesomeDarkModeToggle.init()
    </script>
    <script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
    <script type="text/javascript">
        DoxygenAwesomeFragmentCopyButton.init()
    </script>
    <script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
    <script type="text/javascript">
        DoxygenAwesomeParagraphLink.init()
    </script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="icon.svg"/></td>
  <td id="projectalign">
   <div id="projectname">KaMPIng<span id="projectnumber">&#160;0.2.1</span>
   </div>
   <div id="projectbrief">(Near) zero-overhead MPI wrapper for C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classkamping_1_1plugin_1_1SparseAlltoall.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classkamping_1_1plugin_1_1SparseAlltoall-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">kamping::plugin::SparseAlltoall&lt; Comm, DefaultContainerType &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Plugin providing a sparse alltoall exchange method.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="alltoall__sparse_8hpp_source.html">alltoall_sparse.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for kamping::plugin::SparseAlltoall&lt; Comm, DefaultContainerType &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classkamping_1_1plugin_1_1SparseAlltoall__inherit__graph.png" border="0" usemap="#akamping_1_1plugin_1_1SparseAlltoall_3_01Comm_00_01DefaultContainerType_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="akamping_1_1plugin_1_1SparseAlltoall_3_01Comm_00_01DefaultContainerType_01_4_inherit__map" id="akamping_1_1plugin_1_1SparseAlltoall_3_01Comm_00_01DefaultContainerType_01_4_inherit__map">
<area shape="rect" title="Plugin providing a sparse alltoall exchange method." alt="" coords="5,108,249,148"/>
<area shape="rect" href="structkamping_1_1plugin_1_1PluginBase.html" title=" " alt="" coords="11,5,244,60"/>
<area shape="poly" title=" " alt="" coords="130,74,130,108,125,108,125,74"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for kamping::plugin::SparseAlltoall&lt; Comm, DefaultContainerType &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classkamping_1_1plugin_1_1SparseAlltoall__coll__graph.png" border="0" usemap="#akamping_1_1plugin_1_1SparseAlltoall_3_01Comm_00_01DefaultContainerType_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="akamping_1_1plugin_1_1SparseAlltoall_3_01Comm_00_01DefaultContainerType_01_4_coll__map" id="akamping_1_1plugin_1_1SparseAlltoall_3_01Comm_00_01DefaultContainerType_01_4_coll__map">
<area shape="rect" title="Plugin providing a sparse alltoall exchange method." alt="" coords="5,108,249,148"/>
<area shape="rect" href="structkamping_1_1plugin_1_1PluginBase.html" title=" " alt="" coords="11,5,244,60"/>
<area shape="poly" title=" " alt="" coords="130,74,130,108,125,108,125,74"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6363f4b1482a60bc1eb86a20132a2af7" id="r_a6363f4b1482a60bc1eb86a20132a2af7"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:a6363f4b1482a60bc1eb86a20132a2af7"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classkamping_1_1MPIAllocator.html">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a6363f4b1482a60bc1eb86a20132a2af7">alltoallv_sparse</a> (Args... <a class="el" href="classkamping_1_1MPIAllocator.html">args</a>) <a class="el" href="classkamping_1_1MPIAllocator.html">const</a></td></tr>
<tr class="memdesc:a6363f4b1482a60bc1eb86a20132a2af7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sparse alltoall exchange using the NBX algorithm(Hoefler et al., "Scalable communication protocols for
dynamic sparse data", ACM Sigplan Noctices 45.5, 2010.)  <br /></td></tr>
<tr class="separator:a6363f4b1482a60bc1eb86a20132a2af7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;<a class="el" href="classkamping_1_1MPIAllocator.html">typename</a> <a class="el" href="classkamping_1_1MPIAllocator.html">Comm</a>, <a class="el" href="classkamping_1_1MPIAllocator.html">template</a>&lt; typename... &gt; <a class="el" href="classkamping_1_1MPIAllocator.html">typename</a> DefaultContainerType&gt;<br />
class kamping::plugin::SparseAlltoall&lt; Comm, DefaultContainerType &gt;</div><p>Plugin providing a sparse alltoall exchange method. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a6363f4b1482a60bc1eb86a20132a2af7">SparseAlltoall::alltoallv_sparse()</a> for more information. </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a6363f4b1482a60bc1eb86a20132a2af7" name="a6363f4b1482a60bc1eb86a20132a2af7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6363f4b1482a60bc1eb86a20132a2af7">&#9670;&#160;</a></span>alltoallv_sparse()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="classkamping_1_1MPIAllocator.html">typename</a> <a class="el" href="classkamping_1_1MPIAllocator.html">Comm</a> , <a class="el" href="classkamping_1_1MPIAllocator.html">template</a>&lt; typename... &gt; <a class="el" href="classkamping_1_1MPIAllocator.html">typename</a> DefaultContainerType&gt; </div>
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classkamping_1_1MPIAllocator.html">void</a> <a class="el" href="classkamping_1_1plugin_1_1SparseAlltoall.html">kamping::plugin::SparseAlltoall</a>&lt; <a class="el" href="classkamping_1_1MPIAllocator.html">Comm</a>, <a class="el" href="classkamping_1_1MPIAllocator.html">DefaultContainerType</a> &gt;::alltoallv_sparse </td>
          <td>(</td>
          <td class="paramtype">Args...</td>          <td class="paramname"><span class="paramname"><em>args</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sparse alltoall exchange using the NBX algorithm(Hoefler et al., "Scalable communication protocols for
dynamic sparse data", ACM Sigplan Noctices 45.5, 2010.) </p>
<p>This function provides a sparse interface for personalized all-to-all communication using direct message exchange and thus achieving linear complexity in the number of messages to be sent (in contrast to <code>MPI_Alltoallv</code> which exhibits complexity (at least) linear in the size of the communicator due to its interface). To achieve this time complexity we can no longer rely on an array of size of the communicator for send counts. Instead we use a sparse representation of the data to be sent.</p>
<p>The following parameters are required:</p><ul>
<li><a class="el" href="alltoall__sparse_8hpp.html#a938806bb1f9bfa65711bf6c930887abaa0bb6bc56fa070b2b4b0acc0f037a1401">sparse_alltoall::sparse_send_buf()</a> containing the messages to be sent to other ranks. Differently from plain alltoallv, in alltoallv_sparse <code><a class="el" href="group__kamping__named__parameters.html#gafdc0902f8c63ed8c71121f7514062de6" title="Generates a dummy send buf that wraps a nullptr.">send_buf()</a></code> encapsulates a container consisting of destination-message pairs. Each such pair has to be decomposable via structured bindings with the first parameter being convertible to int and the second parameter being the actual message to be sent for which we require the usual send_buf properties (i.e., either scalar types or existance <code>data()</code> and <code>size()</code> member function and the exposure of a <code>value_type</code>)). Messages of size 0 are not sent.</li>
<li><a class="el" href="alltoall__sparse_8hpp.html#a938806bb1f9bfa65711bf6c930887abaa580d2e28c9d34709a2c266243fef0df6">sparse_alltoall::on_message()</a> containing a callback function <code>cb</code> which is responsible to process the received messages via a <a class="el" href="classkamping_1_1plugin_1_1sparse__alltoall_1_1ProbedMessage.html">sparse_alltoall::ProbedMessage</a> object. The callback function <code>cb</code> gets called for each probed message ready to be received via <code>cb(probed_message)</code>. See <a class="el" href="classkamping_1_1plugin_1_1sparse__alltoall_1_1ProbedMessage.html">sparse_alltoall::ProbedMessage</a> for the member functions to be called on the object.</li>
</ul>
<p>The following buffers are optional:</p><ul>
<li><a class="el" href="group__kamping__named__parameters.html#gab9a147682a19a084e087063a8080eca0">kamping::send_type()</a> specifying the <code>MPI</code> datatype to use as send type. If omitted, the <code>MPI</code> datatype is derived automatically based on each message's underlying <code>value_type</code>.</li>
<li><a class="el" href="group__kamping__named__parameters.html#ga2647f18ad34bb5cb5a74e63189aff914">kamping::tag()</a> the tag added to the directly exchanged messages. Defaults to the communicator's default tag (<a class="el" href="classkamping_1_1Communicator.html#af49aff665817556c8fedc10ead39e1b1">Communicator::default_tag()</a>) if not present.</li>
</ul>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Args</td><td>Automatically deducted template parameters. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>All required and any number of the optional parameters described above. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/kamping/plugin/<a class="el" href="alltoall__sparse_8hpp_source.html">alltoall_sparse.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>kamping</b></li><li class="navelem"><b>plugin</b></li><li class="navelem"><a class="el" href="classkamping_1_1plugin_1_1SparseAlltoall.html">SparseAlltoall</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
